<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BookReader - Application de Lecture</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: #0a0a0a;
            color: #f5f5f5;
            height: 100vh;
            overflow: hidden;
            position: relative;
            touch-action: pan-y;
        }

        #app {
            height: 100vh;
            width: 100vw;
            position: relative;
            transition: transform 0.5s ease;
        }

        .page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            background: #0a0a0a;
        }

        .page.active {
            opacity: 1;
            visibility: visible;
        }

        .book-page {
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            cursor: pointer;
        }

        .content-page {
            max-width: 800px;
            padding: 40px 20px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            cursor: pointer;
        }

        .content-page h1 {
            font-size: 2.8rem;
            margin-bottom: 2rem;
            color: #FFD700;
            text-align: center;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .content-page h2 {
            font-size: 2.2rem;
            margin: 2rem 0 1rem;
            color: #FFD700;
            border-bottom: 1px solid rgba(255, 215, 0, 0.3);
            padding-bottom: 0.5rem;
        }

        .content-page p {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
            text-align: justify;
        }

        .navigation-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 100;
            pointer-events: none;
        }

        .nav-zone {
            position: absolute;
            background: transparent;
            pointer-events: auto;
            cursor: pointer;
        }

        .prev-zone {
            left: 0;
            top: 0;
            width: 40%;
            height: 100%;
        }

        .next-zone {
            right: 0;
            top: 0;
            width: 40%;
            height: 100%;
        }

        .top-bar, .bottom-bar {
            position: fixed;
            left: 0;
            width: 100%;
            background: linear-gradient(to bottom, rgba(10,10,10,0.95) 0%, rgba(10,10,10,0.8) 50%, transparent 100%);
            padding: 20px;
            z-index: 101;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.5s ease;
        }

        .top-bar {
            top: 0;
            transform: translateY(0);
        }

        .bottom-bar {
            bottom: 0;
            background: linear-gradient(to top, rgba(10,10,10,0.95) 0%, rgba(10,10,10,0.8) 50%, transparent 100%);
            transform: translateY(0);
            padding: 15px 20px 25px;
        }

        .bars-hidden .top-bar {
            transform: translateY(-100%);
            opacity: 0;
        }

        .bars-hidden .bottom-bar {
            transform: translateY(100%);
            opacity: 0;
        }

        .app-title {
            font-size: 1.5rem;
            font-weight: 300;
            letter-spacing: 3px;
            color: #FFD700;
        }

        .page-indicator {
            font-size: 1.1rem;
            opacity: 0.8;
        }

        .nav-icons {
            display: flex;
            justify-content: center;
            gap: 35px;
            width: 100%;
        }

        .nav-icon {
            font-size: 1.8rem;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            padding: 10px;
            pointer-events: auto;
        }

        .nav-icon:hover {
            color: #FFD700;
            transform: translateY(-5px);
        }

        .nav-icon.active {
            color: #FFD700;
        }

        .nav-icon.active::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background: #FFD700;
            border-radius: 50%;
        }

        .page-turn-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0a0a;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .page-turn-animation .page-turn {
            width: 200px;
            height: 300px;
            position: relative;
            transform-style: preserve-3d;
            transform-origin: left center;
        }

        .page-turn-animation .page-front,
        .page-turn-animation .page-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            background: linear-gradient(45deg, #1a1a1a, #2a2a2a);
            border-radius: 5px;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);
        }

        .page-turn-animation .page-back {
            transform: rotateY(180deg);
            background: linear-gradient(45deg, #2a2a2a, #1a1a1a);
        }

        .turn-left {
            animation: turnLeft 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        .turn-right {
            animation: turnRight 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes turnLeft {
            0% {
                transform: rotateY(0);
                opacity: 1;
            }
            50% {
                opacity: 0.8;
            }
            100% {
                transform: rotateY(-180deg);
                opacity: 0;
            }
        }

        @keyframes turnRight {
            0% {
                transform: rotateY(0);
                opacity: 1;
            }
            50% {
                opacity: 0.8;
            }
            100% {
                transform: rotateY(180deg);
                opacity: 0;
            }
        }

        .sound-wave {
            position: absolute;
            bottom: 20%;
            width: 100%;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            opacity: 0;
        }

        .bar {
            width: 6px;
            height: 40px;
            background: linear-gradient(to top, #FFD700, #ffed4e);
            border-radius: 3px;
            animation: soundWave 0.8s ease-in-out infinite;
        }

        .bar:nth-child(2) { animation-delay: 0.1s; }
        .bar:nth-child(3) { animation-delay: 0.2s; }
        .bar:nth-child(4) { animation-delay: 0.3s; }
        .bar:nth-child(5) { animation-delay: 0.4s; }

        @keyframes soundWave {
            0%, 100% { height: 20px; }
            50% { height: 80px; }
        }

        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0a0a;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            transition: opacity 0.5s ease;
        }

        .loader {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(255, 215, 0, 0.3);
            border-top-color: #FFD700;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .touch-hint {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
            text-align: center;
            animation: pulse 2s infinite;
            pointer-events: none;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        @media (max-width: 768px) {
            .content-page h1 { font-size: 2.2rem; }
            .content-page h2 { font-size: 1.8rem; }
            .content-page p { font-size: 1.1rem; }
            .nav-icons { gap: 25px; }
            .nav-icon { font-size: 1.5rem; }
        }

        @media (max-height: 600px) {
            .bottom-bar { padding: 10px 20px 15px; }
            .touch-hint { bottom: 80px; }
        }
    </style>
</head>
<body>
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
    </div>

    <div class="page-turn-animation" id="pageTurnAnimation">
        <div class="page-turn">
            <div class="page-front"></div>
            <div class="page-back"></div>
        </div>
        <div class="sound-wave" id="soundWave">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
    </div>

    <div class="touch-hint" id="touchHint">
        <i class="fas fa-arrows-alt-h"></i> Glisser pour tourner les pages
    </div>

    <div class="navigation-overlay">
        <div class="nav-zone prev-zone" id="prevZone"></div>
        <div class="nav-zone next-zone" id="nextZone"></div>
    </div>

    <div class="top-bar" id="topBar">
        <div class="app-title">BookReader</div>
        <div class="page-indicator" id="pageIndicator">Page 1/13</div>
    </div>

    <div class="bottom-bar" id="bottomBar">
        <div class="nav-icons">
            <div class="nav-icon active" data-page="home">
                <i class="fas fa-home"></i>
            </div>
            <div class="nav-icon" data-page="reading">
                <i class="fas fa-book-open"></i>
            </div>
            <div class="nav-icon" data-page="bio">
                <i class="fas fa-user-circle"></i>
            </div>
            <div class="nav-icon" data-page="privacy">
                <i class="fas fa-shield-alt"></i>
            </div>
        </div>
    </div>

    <div id="app">
        <!-- Page d'accueil (Couverture) -->
        <div class="page book-page active" id="home" 
             style="background-image: url('https://i.postimg.cc/Kc9mFHsm/1.png');"></div>

        <!-- Pages de lecture -->
        <div class="page book-page" id="reading" 
             style="background-image: url('https://i.postimg.cc/ykB2vQJM/2.jpg');"></div>

        <!-- Pages de lecture supplémentaires -->
        <div class="page book-page" id="page3" 
             style="background-image: url('https://i.postimg.cc/Vd12DGSh/3.jpg');"></div>
        <div class="page book-page" id="page4" 
             style="background-image: url('https://i.postimg.cc/RN92Xs32/4.jpg');"></div>
        <div class="page book-page" id="page5" 
             style="background-image: url('https://i.postimg.cc/KRFCJqkX/5.jpg');"></div>
        <div class="page book-page" id="page6" 
             style="background-image: url('https://i.postimg.cc/HVHFBZcm/6.jpg');"></div>
        <div class="page book-page" id="page7" 
             style="background-image: url('https://i.postimg.cc/7fDjmsGw/7.jpg');"></div>
        <div class="page book-page" id="page8" 
             style="background-image: url('https://i.postimg.cc/D8FRBjJ7/8.jpg');"></div>
        <div class="page book-page" id="page9" 
             style="background-image: url('https://i.postimg.cc/Tp9FSVmz/9.jpg');"></div>
        <div class="page book-page" id="page10" 
             style="background-image: url('https://i.postimg.cc/Tp9FSVg8/10.jpg');"></div>
        <div class="page book-page" id="page11" 
             style="background-image: url('https://i.postimg.cc/1fH2TGwy/11.jpg');"></div>
        <div class="page book-page" id="page12" 
             style="background-image: url('https://i.postimg.cc/mtwJqYCh/12.jpg');"></div>
        <div class="page book-page" id="page13" 
             style="background-image: url('https://i.postimg.cc/4m5qM6VK/13.jpg');"></div>

        <!-- Page Biographie -->
        <div class="page content-page" id="bio">
            <h1>Biographie de l'Auteur</h1>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            
            <h2>Formation</h2>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            
            <h2>Parcours Professionnel</h2>
            <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
            
            <h2>Récompenses</h2>
            <p>Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p>
        </div>

        <!-- Page Politique de Confidentialité -->
        <div class="page content-page" id="privacy">
            <h1>Politique de Confidentialité</h1>
            <p>Dernière mise à jour : 1er Janvier 2024</p>
            
            <h2>Collecte des Informations</h2>
            <p>Nous collectons uniquement les informations nécessaires au fonctionnement de l'application. Aucune donnée personnelle n'est stockée sur nos serveurs.</p>
            
            <h2>Utilisation des Données</h2>
            <p>Les données de lecture (progression, préférences) sont stockées localement sur votre appareil. Ces informations ne quittent jamais votre appareil.</p>
            
            <h2>Cookies</h2>
            <p>Cette application n'utilise pas de cookies de suivi. Seuls les cookies techniques essentiels au fonctionnement peuvent être utilisés.</p>
            
            <h2>Vos Droits</h2>
            <p>Vous avez le droit d'accéder à vos données, de les rectifier ou de les supprimer. Pour exercer ces droits, contactez-nous.</p>
            
            <h2>Contact</h2>
            <p>Pour toute question concernant cette politique de confidentialité, contactez-nous à : privacy@bookreader.app</p>
        </div>
    </div>

    <script>
        class BookReader {
            constructor() {
                this.currentPage = 1;
                this.totalPages = 13;
                this.currentSection = 'home';
                this.isAnimating = false;
                this.barsVisible = true;
                this.hideBarsTimeout = null;
                this.pages = ['home', 'reading', 'page3', 'page4', 'page5', 'page6', 'page7', 
                             'page8', 'page9', 'page10', 'page11', 'page12', 'page13', 'bio', 'privacy'];
                this.sections = ['home', 'reading', 'bio', 'privacy'];
                this.pageImages = [
    'https://i.postimg.cc/Kc9mFHsm/1.png',
    
    'https://i.postimg.cc/xTcnd3Wv/2.png',
    'https://i.postimg.cc/yYtB3SHv/3.png',
    'https://i.postimg.cc/zXV8fF9S/4.png',
    'https://i.postimg.cc/ZKC4qx1p/5.png',
    'https://i.postimg.cc/gkQdL6pn/6.png',
    'https://i.postimg.cc/0NqscRrf/7.png',
    'https://i.postimg.cc/hGqBpWfn/8.png',
    'https://i.postimg.cc/xdS2tDcV/9.png',
                  'https://i.postimg.cc/vmLdKqVM/10.png',
    'https://i.postimg.cc/DzdKNjX4/11.png',
    'https://i.postimg.cc/85pVgRR5/13.png'
];


                this.init();
            }

            init() {
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.opacity = '0';
                    setTimeout(() => {
                        document.getElementById('loadingScreen').style.display = 'none';
                        this.setupEventListeners();
                        this.startIdleTimer();
                        this.updatePageIndicator();
                    }, 500);
                }, 1000);

                setTimeout(() => {
                    document.getElementById('touchHint').style.opacity = '0';
                    setTimeout(() => {
                        document.getElementById('touchHint').style.display = 'none';
                    }, 500);
                }, 3000);
            }

            setupEventListeners() {
                // Navigation tactile - zones de clic
                document.getElementById('prevZone').addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.navigate('prev');
                });
                
                document.getElementById('nextZone').addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.navigate('next');
                });

                // Cliquer sur l'écran pour afficher/masquer les barres
                document.getElementById('app').addEventListener('click', (e) => {
                    // Ne pas déclencher si on clique sur les icônes de navigation
                    if (e.target.closest('.nav-icon') || e.target.closest('.nav-zone')) {
                        return;
                    }
                    
                    if (this.barsVisible) {
                        this.hideBars();
                    } else {
                        this.showBars();
                    }
                });

                // Navigation clavier
                document.addEventListener('keydown', (e) => {
                    if (this.isAnimating) return;
                    
                    if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                        this.navigate('prev');
                    } else if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                        this.navigate('next');
                    }
                });

                // Navigation par défilement (wheel)
                let wheelTimeout;
                document.addEventListener('wheel', (e) => {
                    if (this.isAnimating) return;
                    
                    clearTimeout(wheelTimeout);
                    wheelTimeout = setTimeout(() => {
                        if (e.deltaY > 0 || e.deltaX > 0) {
                            this.navigate('next');
                        } else {
                            this.navigate('prev');
                        }
                    }, 50);
                });

                // Navigation tactile (swipe)
                let touchStartX = 0;
                let touchStartY = 0;
                let touchEndX = 0;
                let touchEndY = 0;
                
                document.addEventListener('touchstart', (e) => {
                    touchStartX = e.changedTouches[0].screenX;
                    touchStartY = e.changedTouches[0].screenY;
                }, { passive: true });
                
                document.addEventListener('touchend', (e) => {
                    if (this.isAnimating) return;
                    
                    touchEndX = e.changedTouches[0].screenX;
                    touchEndY = e.changedTouches[0].screenY;
                    
                    const diffX = touchEndX - touchStartX;
                    const diffY = touchEndY - touchStartY;
                    
                    // Seuil pour détecter un swipe
                    const threshold = 50;
                    
                    // Navigation horizontale (gauche/droite)
                    if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > threshold) {
                        if (diffX > 0) {
                            this.navigate('prev'); // Swipe vers la droite
                        } else {
                            this.navigate('next'); // Swipe vers la gauche
                        }
                    }
                    // Navigation verticale (haut/bas)
                    else if (Math.abs(diffY) > threshold) {
                        if (diffY > 0) {
                            this.navigate('prev'); // Swipe vers le bas
                        } else {
                            this.navigate('next'); // Swipe vers le haut
                        }
                    }
                }, { passive: true });

                // Navigation par icônes
                document.querySelectorAll('.nav-icon').forEach(icon => {
                    icon.addEventListener('click', (e) => {
                        const page = e.currentTarget.dataset.page;
                        this.switchSection(page);
                    });
                });

                // Reset idle timer on interaction
                document.addEventListener('mousemove', () => this.resetIdleTimer());
                document.addEventListener('touchstart', () => this.resetIdleTimer());
                document.addEventListener('keydown', () => this.resetIdleTimer());
            }

            navigate(direction) {
                if (this.isAnimating) return;
                
                this.resetIdleTimer();
                this.showBars();
                
                if (direction === 'next') {
                    if (this.currentSection === 'home') {
                        // Depuis la couverture, aller à la lecture
                        this.switchSection('reading');
                    } else if (this.currentSection === 'reading') {
                        if (this.currentPage < this.totalPages) {
                            this.currentPage++;
                            this.showPageTurnAnimation('right');
                            this.updatePage();
                        }
                    }
                } else {
                    if (this.currentSection === 'reading') {
                        if (this.currentPage > 2) {
                            this.currentPage--;
                            this.showPageTurnAnimation('left');
                            this.updatePage();
                        } else if (this.currentPage === 2) {
                            // Revenir à la couverture depuis la première page de lecture
                            this.switchSection('home');
                        }
                    }
                }
            }

            switchSection(section) {
                if (this.isAnimating || this.currentSection === section) return;
                
                this.resetIdleTimer();
                this.showBars();
                
                // Mettre à jour les icônes actives
                document.querySelectorAll('.nav-icon').forEach(icon => {
                    icon.classList.remove('active');
                });
                document.querySelector(`[data-page="${section}"]`).classList.add('active');
                
                this.currentSection = section;
                
                if (section === 'reading') {
                    this.currentPage = 2; // Page de lecture
                    this.updatePageIndicator();
                } else if (section === 'home') {
                    this.currentPage = 1;
                    this.updatePageIndicator();
                }
                
                // Masquer toutes les pages
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // Afficher la page sélectionnée
                document.getElementById(section).classList.add('active');
            }

            showPageTurnAnimation(direction) {
                this.isAnimating = true;
                const animation = document.getElementById('pageTurnAnimation');
                const soundWave = document.getElementById('soundWave');
                const pageTurn = animation.querySelector('.page-turn');
                
                // Réinitialiser l'animation
                animation.style.opacity = '1';
                pageTurn.className = 'page-turn';
                soundWave.style.opacity = '0';
                
                // Jouer l'animation de tournage
                setTimeout(() => {
                    pageTurn.classList.add(direction === 'left' ? 'turn-left' : 'turn-right');
                    
                    // Afficher l'onde sonore
                    setTimeout(() => {
                        soundWave.style.opacity = '1';
                    }, 200);
                    
                    // Cacher l'animation
                    setTimeout(() => {
                        animation.style.opacity = '0';
                        setTimeout(() => {
                            soundWave.style.opacity = '0';
                            this.isAnimating = false;
                        }, 300);
                    }, 800);
                }, 50);
            }

            updatePage() {
                this.updatePageIndicator();
                
                // Mettre à jour l'image de la page de lecture
                if (this.currentPage >= 2 && this.currentPage <= 13) {
                    const pageId = this.currentPage === 2 ? 'reading' : `page${this.currentPage}`;
                    const pageElement = document.getElementById(pageId);
                    if (pageElement) {
                        pageElement.style.backgroundImage = `url('${this.pageImages[this.currentPage - 1]}')`;
                        
                        // Masquer toutes les pages de lecture
                        document.querySelectorAll('.book-page').forEach(page => {
                            page.classList.remove('active');
                        });
                        
                        // Afficher la page actuelle
                        pageElement.classList.add('active');
                    }
                }
            }

            updatePageIndicator() {
                const indicator = document.getElementById('pageIndicator');
                if (this.currentSection === 'reading') {
                    indicator.textContent = `Page ${this.currentPage - 1}/${this.totalPages - 1}`;
                } else {
                    indicator.textContent = this.getSectionTitle(this.currentSection);
                }
            }

            getSectionTitle(section) {
                const titles = {
                    'home': 'Couverture',
                    'reading': 'Lecture',
                    'bio': 'Biographie',
                    'privacy': 'Confidentialité'
                };
                return titles[section] || section;
            }

            startIdleTimer() {
                this.hideBarsTimeout = setTimeout(() => {
                    this.hideBars();
                }, 7000);
            }

            resetIdleTimer() {
                clearTimeout(this.hideBarsTimeout);
                this.startIdleTimer();
            }

            hideBars() {
                if (!this.barsVisible) return;
                
                document.body.classList.add('bars-hidden');
                this.barsVisible = false;
            }

            showBars() {
                if (this.barsVisible) return;
                
                document.body.classList.remove('bars-hidden');
                this.barsVisible = true;
                this.resetIdleTimer();
            }
        }

        // Initialiser l'application
        window.addEventListener('DOMContentLoaded', () => {
            window.bookReader = new BookReader();
        });

        // Empêcher le menu contextuel sur mobile
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            return false;
        });
    </script>
</body>
</html>
